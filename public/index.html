<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¾ä¹ƒæœ¨é£¯åº— - ãƒãƒƒãƒˆå—ä»˜</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
</head>
<body>
    <h1>ğŸœ æ¾ä¹ƒæœ¨é£¯åº— ãƒãƒƒãƒˆå—ä»˜</h1>
    <div id="form-area">
        <label>å¤§äºº</label><input type="number" id="adults" value="1" min="1">
        <label>å­ä¾›</label><input type="number" id="children" value="0" min="0">
        <button id="btn-reg">é †ç•ªå¾…ã¡ã‚’äºˆç´„ã™ã‚‹</button>
    </div>
    <div id="result-area" style="display:none;">
        <h2>å—ä»˜å®Œäº†ã—ã¾ã—ãŸï¼</h2>
        <p>ã‚ãªãŸã®ç•ªå·: <strong id="my-id" style="font-size:2em;"></strong></p>
        <p>ç”»é¢ã‚’é–‰ã˜ãšã«ãŠå¾…ã¡ãã ã•ã„ã€‚</p>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        document.getElementById('btn-reg').onclick = () => {
            const data = {
                type: 'web',
                adults: document.getElementById('adults').value,
                children: document.getElementById('children').value,
                pref: 'æŒ‡å®šãªã—'
            };
            socket.emit('register', data);
        };
        socket.on('registered', (guest) => {
            document.getElementById('form-area').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('my-id').innerText = guest.displayId;
        });
    </script>
</body>
</html>
