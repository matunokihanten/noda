<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ç®¡ç†ç”»é¢ - æ¾ä¹ƒæœ¨é£¯åº—</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
</head>
<body>
    <h1>ğŸ”§ é †ç•ªç®¡ç†ãƒ‘ãƒãƒ«</h1>
    <table border="1" style="width:100%">
        <thead><tr><th>ç•ªå·</th><th>äººæ•°</th><th>æ“ä½œ</th></tr></thead>
        <tbody id="queue-list"></tbody>
    </table>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        socket.on('update', (data) => {
            const list = document.getElementById('queue-list');
            list.innerHTML = '';
            data.queue.forEach(g => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${g.displayId}</td>
                    <td>å¤§äºº${g.adults} / å­${g.children}</td>
                    <td><button onclick="done('${g.displayId}')">æ¡ˆå†…å®Œäº†</button></td>
                `;
                list.appendChild(tr);
            });
        });
        function done(id) { socket.emit('updateStatus', { displayId: id, status: 'completed' }); }
    </script>
</body>
</html>
